<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Tutti i Fumetti</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background-color: #5398b3;
    }

    .logo {
      position: absolute;
      top: 20px;
      left: 20px;
      width: 80px;
    }

    h1 {
      text-align: center;
      font-size: 48px;
      margin-top: 40px;
    }

    .fumetti-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 30px;
      max-height: 80vh;
      overflow-y: scroll;
      gap: 30px;
    }

    .fumetto {
      display: grid;
      grid-template-columns: 150px 1fr 1fr;
      align-items: center;
      background-color: #264e5a;
      color: white;
      width: 90%;
      max-width: 900px;
      border-radius: 30px;
      padding: 20px;
    }

    .fumetto img {
      width: 100%;
      border-radius: 20px;
    }

    .info, .descrizione {
      transform: rotate(-25deg);
      font-size: 18px;
      text-align: center;
    }

    .info {
      font-weight: bold;
    }

    .dettagli-btn {
      margin-top: 10px;
      padding: 10px 20px;
      background-color: #c23d2f;
      color: white;
      border: none;
      border-radius: 20px;
      cursor: pointer;
    }

    .dettagli-btn:hover {
      background-color: #a83127;
    }
  </style>
</head>
<body>
  <img src="logo_folletto.png" alt="Logo Gnome Reads" class="logo">
  <h1>tutti i fumetti</h1>

  <div class="fumetti-container" id="fumetti-container">
    <!-- I fumetti verranno caricati qui tramite JS -->
  </div>
  <script>
    fetch('tutti_i_fumetti.php')
      .then(response => {
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        return response.json();
      })
      .then(data => {
        console.log('Dati ricevuti:', data); // Per debug
        const container = document.getElementById('fumetti-container');
        container.innerHTML = '';
        data.forEach(fumetto => {
          const html = `
            <div class="fumetto">
              <img src="img/fumetto${fumetto.id}.jpg" alt="${fumetto.titolo}">
              <div class="info">INFORMAZIONI<br>
                Titolo: ${fumetto.titolo}<br>
                Autore: ${fumetto.autore}<br>
                Anno: ${fumetto.anno}<br>
                Genere: ${fumetto.genere}
              </div>
              <div class="descrizione">
                descrizione breve<br>${fumetto.descrizione}<br>
                <button class="dettagli-btn">DI PIU</button>
              </div>
            </div>
          `;
          container.innerHTML += html;
        });
      });
  </script>
</body>
</html>
